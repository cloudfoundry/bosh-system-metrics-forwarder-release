---
name: bosh-system-metrics-forwarder

templates:
  ctl.erb: bin/ctl
  loggregator_ca.crt.erb: config/certs/loggregator/ca.crt
  loggregator_client.crt.erb: config/certs/loggregator/client.crt
  loggregator_client.key.erb: config/certs/loggregator/client.key

packages:
  - bosh-system-metrics-forwarder

properties:
  bosh_director.addr:
    description: "The host and port of the director"

  metrics_server.addr:
    description: "The host and port of the bosh system metrics server"

  tls.ca_cert:
    description: "The CA certificate used to sign the server's tls certificate"

  uaa_client.identity:
    description: "The UAA client identity which has access to bosh system metrics"

  uaa_client.password:
    description: "The UAA client password which has access to bosh system metrics"

  loggregator.v2_api_port:
    description: "Local metron agent gRPC port"
    default: 3458
  loggregator.ca_cert:
    description: "CA Cert used to communicate with local metron agent over gRPC"
  loggregator.cert:
    description: "Cert used to communicate with local metron agent over gRPC"
  loggregator.key:
    description: "Key used to communicate with local metron agent over gRPC"
